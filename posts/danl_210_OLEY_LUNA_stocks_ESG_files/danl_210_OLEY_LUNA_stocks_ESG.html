<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Carolyn_Mack and Luna Oley">
<meta name="dcterms.date" content="2025-05-13">

<title>Final Project Blog – Luna Oley</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Luna Oley</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../danl_proj_nba.html"> 
<span class="menu-text">Project</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog-listing.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-python-data-analysis" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Python Data Analysis</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-python-data-analysis">    
        <li>
    <a class="dropdown-item" href="../../pandas_basics.html">
 <span class="dropdown-text">Pandas Basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../seaborn_basics.html">
 <span class="dropdown-text">Seaborn Basics</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Final Project Blog</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">project</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Carolyn_Mack and Luna Oley </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 13, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#danl-210-final-project" id="toc-danl-210-final-project" class="nav-link active" data-scroll-target="#danl-210-final-project">DANL 210 Final Project:</a>
  <ul class="collapse">
  <li><a href="#by-luna-oley-and-carolyn-mack" id="toc-by-luna-oley-and-carolyn-mack" class="nav-link" data-scroll-target="#by-luna-oley-and-carolyn-mack">By Luna Oley and Carolyn Mack</a></li>
  <li><a href="#unifying-environmental-social-and-governance-esg-metrics-with-financial-analysis" id="toc-unifying-environmental-social-and-governance-esg-metrics-with-financial-analysis" class="nav-link" data-scroll-target="#unifying-environmental-social-and-governance-esg-metrics-with-financial-analysis">Unifying Environmental, Social, and Governance (ESG) Metrics with Financial Analysis</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction:</a></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory Data Analysis:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#research-questions" id="toc-research-questions" class="nav-link" data-scroll-target="#research-questions">Research Questions:</a>
  <ul class="collapse">
  <li><a href="#total-esg-risk-rating-v-growth" id="toc-total-esg-risk-rating-v-growth" class="nav-link" data-scroll-target="#total-esg-risk-rating-v-growth">Total ESG Risk Rating v Growth</a></li>
  <li><a href="#environmental-risk-rating-v-growth" id="toc-environmental-risk-rating-v-growth" class="nav-link" data-scroll-target="#environmental-risk-rating-v-growth">Environmental Risk Rating v Growth</a></li>
  <li><a href="#social-risk-vs-growth" id="toc-social-risk-vs-growth" class="nav-link" data-scroll-target="#social-risk-vs-growth">Social Risk vs Growth:</a></li>
  <li><a href="#controversy-level-vs-growth" id="toc-controversy-level-vs-growth" class="nav-link" data-scroll-target="#controversy-level-vs-growth">Controversy Level Vs Growth:</a></li>
  <li><a href="#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics">Descriptive Statistics:</a></li>
  <li><a href="#governance-risk-rating" id="toc-governance-risk-rating" class="nav-link" data-scroll-target="#governance-risk-rating">Governance Risk rating</a></li>
  <li><a href="#social-risk-rating" id="toc-social-risk-rating" class="nav-link" data-scroll-target="#social-risk-rating">Social Risk Rating</a></li>
  <li><a href="#environmental-risk-rating" id="toc-environmental-risk-rating" class="nav-link" data-scroll-target="#environmental-risk-rating">Environmental Risk Rating</a></li>
  <li><a href="#total-esg-risk-rating" id="toc-total-esg-risk-rating" class="nav-link" data-scroll-target="#total-esg-risk-rating">Total ESG Risk Rating</a></li>
  <li><a href="#growth" id="toc-growth" class="nav-link" data-scroll-target="#growth">Growth</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#significiance-of-the-project" id="toc-significiance-of-the-project" class="nav-link" data-scroll-target="#significiance-of-the-project">Significiance of the Project:</a></li>
  <li><a href="#refrences" id="toc-refrences" class="nav-link" data-scroll-target="#refrences">Refrences</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<div id="cell-1" class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Below is to import the pandas library as pd</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Below is for an interactive display of DataFrame in Colab</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> google.colab <span class="im">import</span> data_table</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>data_table.enable_dataframe_formatter()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="danl-210-final-project" class="level1">
<h1>DANL 210 Final Project:</h1>
<section id="by-luna-oley-and-carolyn-mack" class="level3">
<h3 class="anchored" data-anchor-id="by-luna-oley-and-carolyn-mack">By Luna Oley and Carolyn Mack</h3>
</section>
<section id="unifying-environmental-social-and-governance-esg-metrics-with-financial-analysis" class="level2">
<h2 class="anchored" data-anchor-id="unifying-environmental-social-and-governance-esg-metrics-with-financial-analysis">Unifying Environmental, Social, and Governance (ESG) Metrics with Financial Analysis</h2>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">Introduction:</h3>
<p>Background:</p>
<p>Environmental, Social and Governance metrics are vital for looking at corpoations sustaintability and ethical impact. These ESG metrics can be very useful for investiors and stakeholders to look at the long term risk and value of companies. Often times companies with better ESG metrics are ranked higher and have more potential for long term growth since they are more conciously aware of environmental and social issues.</p>
<p>Statement of the Problem:</p>
<p>In this project we will evaluate these ESG metrics pertaining to total ESG risk score, Environmental Risk Score, Social Risk score, Governance Risk Score and Controvery Level. These specific metrics are not commonly analyzed when looking at how a company is performing in the stock market. Thus this projecct aims to make a connections between the relationship of ESG metrics and stock market outcomes to see any trends or correlations between a company’s total value and their risk profile.</p>
<div id="cell-5" class="cell" data-outputid="bafba80a-8bc0-4101-84ba-f4d1518b90bc">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://bcdanl.github.io/data/stock_history_2023.csv"</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>stock_history_2023 <span class="op">=</span> pd.read_csv(url)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>stock_history_2023</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Warning: total number of rows (157750) exceeds max_rows (20000). Falling back to pandas display.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="2">

  <div id="df-8b79429b-5b11-4acf-8255-69f5bb167bdc" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Symbol</th>
<th data-quarto-table-cell-role="th">Open</th>
<th data-quarto-table-cell-role="th">High</th>
<th data-quarto-table-cell-role="th">Low</th>
<th data-quarto-table-cell-role="th">Close</th>
<th data-quarto-table-cell-role="th">Volume</th>
<th data-quarto-table-cell-role="th">Dividend</th>
<th data-quarto-table-cell-role="th">Stock_Splits</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2023-12-29</td>
<td>2023</td>
<td>A</td>
<td>138.587233</td>
<td>139.215036</td>
<td>137.879691</td>
<td>138.547363</td>
<td>1014400</td>
<td>0.236</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2023-12-28</td>
<td>2023</td>
<td>A</td>
<td>139.815657</td>
<td>140.084270</td>
<td>138.930245</td>
<td>139.049637</td>
<td>892600</td>
<td>0.000</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2023-12-27</td>
<td>2023</td>
<td>A</td>
<td>139.059578</td>
<td>139.437624</td>
<td>138.363189</td>
<td>139.099380</td>
<td>1182300</td>
<td>0.000</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2023-12-26</td>
<td>2023</td>
<td>A</td>
<td>138.591994</td>
<td>139.746018</td>
<td>138.373126</td>
<td>139.089416</td>
<td>948400</td>
<td>0.000</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2023-12-22</td>
<td>2023</td>
<td>A</td>
<td>138.890449</td>
<td>139.636584</td>
<td>138.074668</td>
<td>138.850662</td>
<td>1204100</td>
<td>0.000</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">157745</td>
<td>2023-01-09</td>
<td>2023</td>
<td>ZTS</td>
<td>146.205080</td>
<td>146.715330</td>
<td>144.242596</td>
<td>144.301468</td>
<td>1700500</td>
<td>0.000</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">157746</td>
<td>2023-01-06</td>
<td>2023</td>
<td>ZTS</td>
<td>143.840283</td>
<td>145.832203</td>
<td>138.865393</td>
<td>144.870590</td>
<td>1761200</td>
<td>0.000</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">157747</td>
<td>2023-01-05</td>
<td>2023</td>
<td>ZTS</td>
<td>144.586064</td>
<td>145.400482</td>
<td>141.563836</td>
<td>142.721695</td>
<td>1560900</td>
<td>0.000</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">157748</td>
<td>2023-01-04</td>
<td>2023</td>
<td>ZTS</td>
<td>146.224720</td>
<td>147.981137</td>
<td>145.184606</td>
<td>146.165848</td>
<td>1796100</td>
<td>0.000</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">157749</td>
<td>2023-01-03</td>
<td>2023</td>
<td>ZTS</td>
<td>145.871459</td>
<td>145.999010</td>
<td>142.486177</td>
<td>144.095413</td>
<td>1840600</td>
<td>0.000</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>157750 rows × 10 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-8b79429b-5b11-4acf-8255-69f5bb167bdc')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-8b79429b-5b11-4acf-8255-69f5bb167bdc button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-8b79429b-5b11-4acf-8255-69f5bb167bdc');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-c6bde0b6-4e18-40e5-865f-24281320a1f6">
      <button class="colab-df-quickchart" onclick="quickchart('df-c6bde0b6-4e18-40e5-865f-24281320a1f6')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-c6bde0b6-4e18-40e5-865f-24281320a1f6 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_3ee3d32b-136c-4cd8-b3cf-ec32f19ad894">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('stock_history_2023')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_3ee3d32b-136c-4cd8-b3cf-ec32f19ad894 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('stock_history_2023');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-6" class="cell" data-outputid="18564d24-dfa9-459a-961d-9455e5150c5b">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> google.colab <span class="im">import</span> drive, files</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>drive.mount(<span class="st">'/content/drive'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Mounted at /content/drive</code></pre>
</div>
</div>
<div id="cell-7" class="cell" data-outputid="4a6e4403-ed37-4529-f831-3d99c789a67d">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ESG_data <span class="op">=</span> pd.read_csv(<span class="st">"/content/ESG_data.csv"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>ESG_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">FileNotFoundError</span>                         Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-10-bebae368a3f0&gt;</span> in <span class="ansi-cyan-fg">&lt;cell line: 0&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>ESG_data <span class="ansi-blue-fg">=</span> pd<span class="ansi-blue-fg">.</span>read_csv<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">"/content/ESG_data.csv"</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">      2</span> ESG_data

<span class="ansi-green-fg">/usr/local/lib/python3.11/dist-packages/pandas/io/parsers/readers.py</span> in <span class="ansi-cyan-fg">read_csv</span><span class="ansi-blue-fg">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, date_format, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options, dtype_backend)</span>
<span class="ansi-green-fg ansi-bold">   1024</span>     kwds<span class="ansi-blue-fg">.</span>update<span class="ansi-blue-fg">(</span>kwds_defaults<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">   1025</span> 
<span class="ansi-green-fg">-&gt; 1026</span><span class="ansi-red-fg">     </span><span class="ansi-green-fg">return</span> _read<span class="ansi-blue-fg">(</span>filepath_or_buffer<span class="ansi-blue-fg">,</span> kwds<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">   1027</span> 
<span class="ansi-green-fg ansi-bold">   1028</span> 

<span class="ansi-green-fg">/usr/local/lib/python3.11/dist-packages/pandas/io/parsers/readers.py</span> in <span class="ansi-cyan-fg">_read</span><span class="ansi-blue-fg">(filepath_or_buffer, kwds)</span>
<span class="ansi-green-fg ansi-bold">    618</span> 
<span class="ansi-green-fg ansi-bold">    619</span>     <span class="ansi-red-fg"># Create the parser.</span>
<span class="ansi-green-fg">--&gt; 620</span><span class="ansi-red-fg">     </span>parser <span class="ansi-blue-fg">=</span> TextFileReader<span class="ansi-blue-fg">(</span>filepath_or_buffer<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwds<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">    621</span> 
<span class="ansi-green-fg ansi-bold">    622</span>     <span class="ansi-green-fg">if</span> chunksize <span class="ansi-green-fg">or</span> iterator<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.11/dist-packages/pandas/io/parsers/readers.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, f, engine, **kwds)</span>
<span class="ansi-green-fg ansi-bold">   1618</span> 
<span class="ansi-green-fg ansi-bold">   1619</span>         self<span class="ansi-blue-fg">.</span>handles<span class="ansi-blue-fg">:</span> IOHandles <span class="ansi-blue-fg">|</span> <span class="ansi-green-fg">None</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span>
<span class="ansi-green-fg">-&gt; 1620</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>_engine <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_make_engine<span class="ansi-blue-fg">(</span>f<span class="ansi-blue-fg">,</span> self<span class="ansi-blue-fg">.</span>engine<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg ansi-bold">   1621</span> 
<span class="ansi-green-fg ansi-bold">   1622</span>     <span class="ansi-green-fg">def</span> close<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">)</span> <span class="ansi-blue-fg">-&gt;</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/usr/local/lib/python3.11/dist-packages/pandas/io/parsers/readers.py</span> in <span class="ansi-cyan-fg">_make_engine</span><span class="ansi-blue-fg">(self, f, engine)</span>
<span class="ansi-green-fg ansi-bold">   1878</span>                 <span class="ansi-green-fg">if</span> <span class="ansi-blue-fg">"b"</span> <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">in</span> mode<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg ansi-bold">   1879</span>                     mode <span class="ansi-blue-fg">+=</span> <span class="ansi-blue-fg">"b"</span>
<span class="ansi-green-fg">-&gt; 1880</span><span class="ansi-red-fg">             self.handles = get_handle(
</span><span class="ansi-green-fg ansi-bold">   1881</span>                 f<span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg ansi-bold">   1882</span>                 mode<span class="ansi-blue-fg">,</span>

<span class="ansi-green-fg">/usr/local/lib/python3.11/dist-packages/pandas/io/common.py</span> in <span class="ansi-cyan-fg">get_handle</span><span class="ansi-blue-fg">(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)</span>
<span class="ansi-green-fg ansi-bold">    871</span>         <span class="ansi-green-fg">if</span> ioargs<span class="ansi-blue-fg">.</span>encoding <span class="ansi-green-fg">and</span> <span class="ansi-blue-fg">"b"</span> <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">in</span> ioargs<span class="ansi-blue-fg">.</span>mode<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg ansi-bold">    872</span>             <span class="ansi-red-fg"># Encoding</span>
<span class="ansi-green-fg">--&gt; 873</span><span class="ansi-red-fg">             handle = open(
</span><span class="ansi-green-fg ansi-bold">    874</span>                 handle<span class="ansi-blue-fg">,</span>
<span class="ansi-green-fg ansi-bold">    875</span>                 ioargs<span class="ansi-blue-fg">.</span>mode<span class="ansi-blue-fg">,</span>

<span class="ansi-red-fg">FileNotFoundError</span>: [Errno 2] No such file or directory: '/content/ESG_data.csv'</pre>
</div>
</div>
</div>
<div id="cell-8" class="cell" data-outputid="7ef0f407-620f-4770-d5f3-cbef4a6a9604">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>growth <span class="op">=</span> []</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(stock_history_2023)):</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> (stock_history_2023.loc[i, <span class="st">'Close'</span>] <span class="op">-</span> stock_history_2023.loc[i<span class="op">-</span><span class="dv">1</span>, <span class="st">'Close'</span>]) <span class="op">/</span> stock_history_2023.loc[i<span class="op">-</span><span class="dv">1</span>, <span class="st">'Close'</span>]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    growth.append(value)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert into DataFrame</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>stock_history_2023[<span class="st">'Growth'</span>] <span class="op">=</span> [<span class="va">None</span>] <span class="op">+</span> growth  <span class="co"># First row has no previous value</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(stock_history_2023)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              Date  Year Symbol        Open        High         Low  \
0       2023-12-29  2023      A  138.587233  139.215036  137.879691   
1       2023-12-28  2023      A  139.815657  140.084270  138.930245   
2       2023-12-27  2023      A  139.059578  139.437624  138.363189   
3       2023-12-26  2023      A  138.591994  139.746018  138.373126   
4       2023-12-22  2023      A  138.890449  139.636584  138.074668   
...            ...   ...    ...         ...         ...         ...   
157745  2023-01-09  2023    ZTS  146.205080  146.715330  144.242596   
157746  2023-01-06  2023    ZTS  143.840283  145.832203  138.865393   
157747  2023-01-05  2023    ZTS  144.586064  145.400482  141.563836   
157748  2023-01-04  2023    ZTS  146.224720  147.981137  145.184606   
157749  2023-01-03  2023    ZTS  145.871459  145.999010  142.486177   

             Close   Volume  Dividend  Stock_Splits    Growth  
0       138.547363  1014400     0.236           0.0       NaN  
1       139.049637   892600     0.000           0.0  0.003625  
2       139.099380  1182300     0.000           0.0  0.000358  
3       139.089416   948400     0.000           0.0 -0.000072  
4       138.850662  1204100     0.000           0.0 -0.001717  
...            ...      ...       ...           ...       ...  
157745  144.301468  1700500     0.000           0.0 -0.047292  
157746  144.870590  1761200     0.000           0.0  0.003944  
157747  142.721695  1560900     0.000           0.0 -0.014833  
157748  146.165848  1796100     0.000           0.0  0.024132  
157749  144.095413  1840600     0.000           0.0 -0.014165  

[157750 rows x 11 columns]</code></pre>
</div>
</div>
<div id="cell-9" class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove outliers using IQR method</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>Q1 <span class="op">=</span> stock_history_2023[<span class="st">'Growth'</span>].quantile(<span class="fl">0.01</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>Q3 <span class="op">=</span> stock_history_2023[<span class="st">'Growth'</span>].quantile(<span class="fl">0.99</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>IQR <span class="op">=</span> Q3 <span class="op">-</span> Q1</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="op">=</span> stock_history_2023[(stock_history_2023[<span class="st">'Growth'</span>] <span class="op">&gt;=</span> Q1 <span class="op">-</span> <span class="fl">1.5</span> <span class="op">*</span> IQR) <span class="op">&amp;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>                                   (stock_history_2023[<span class="st">'Growth'</span>] <span class="op">&lt;=</span> Q3 <span class="op">+</span> <span class="fl">1.5</span> <span class="op">*</span> IQR)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-10" class="cell" data-outputid="39dafa8a-d5a7-4364-e576-e1696c034b2f">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>merge_data <span class="op">=</span> pd.merge(filtered_data, ESG_data, on<span class="op">=</span><span class="st">'Symbol'</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>merge_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Warning: total number of rows (155677) exceeds max_rows (20000). Falling back to pandas display.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="27">

  <div id="df-ce97cfc6-ca6c-45df-a9b6-8969ef31dcd1" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Symbol</th>
<th data-quarto-table-cell-role="th">Open</th>
<th data-quarto-table-cell-role="th">High</th>
<th data-quarto-table-cell-role="th">Low</th>
<th data-quarto-table-cell-role="th">Close</th>
<th data-quarto-table-cell-role="th">Volume</th>
<th data-quarto-table-cell-role="th">Dividend</th>
<th data-quarto-table-cell-role="th">Stock_Splits</th>
<th data-quarto-table-cell-role="th">Growth</th>
<th data-quarto-table-cell-role="th">Total_ESG_Risk_Rating</th>
<th data-quarto-table-cell-role="th">Environmental_Risk_Rating</th>
<th data-quarto-table-cell-role="th">Social_Risk_Rating</th>
<th data-quarto-table-cell-role="th">Governance_Risk_Rating</th>
<th data-quarto-table-cell-role="th">Controversy_Level</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2023-12-28</td>
<td>2023</td>
<td>A</td>
<td>139.815657</td>
<td>140.084270</td>
<td>138.930245</td>
<td>139.049637</td>
<td>892600</td>
<td>0.0</td>
<td>0.0</td>
<td>0.003625</td>
<td>10.1</td>
<td>1.1</td>
<td>5.0</td>
<td>3.9</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2023-12-27</td>
<td>2023</td>
<td>A</td>
<td>139.059578</td>
<td>139.437624</td>
<td>138.363189</td>
<td>139.099380</td>
<td>1182300</td>
<td>0.0</td>
<td>0.0</td>
<td>0.000358</td>
<td>10.1</td>
<td>1.1</td>
<td>5.0</td>
<td>3.9</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2023-12-26</td>
<td>2023</td>
<td>A</td>
<td>138.591994</td>
<td>139.746018</td>
<td>138.373126</td>
<td>139.089416</td>
<td>948400</td>
<td>0.0</td>
<td>0.0</td>
<td>-0.000072</td>
<td>10.1</td>
<td>1.1</td>
<td>5.0</td>
<td>3.9</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2023-12-22</td>
<td>2023</td>
<td>A</td>
<td>138.890449</td>
<td>139.636584</td>
<td>138.074668</td>
<td>138.850662</td>
<td>1204100</td>
<td>0.0</td>
<td>0.0</td>
<td>-0.001717</td>
<td>10.1</td>
<td>1.1</td>
<td>5.0</td>
<td>3.9</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2023-12-21</td>
<td>2023</td>
<td>A</td>
<td>138.661642</td>
<td>138.950141</td>
<td>137.288750</td>
<td>138.223907</td>
<td>1685700</td>
<td>0.0</td>
<td>0.0</td>
<td>-0.004514</td>
<td>10.1</td>
<td>1.1</td>
<td>5.0</td>
<td>3.9</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">155672</td>
<td>2023-01-09</td>
<td>2023</td>
<td>ZTS</td>
<td>146.205080</td>
<td>146.715330</td>
<td>144.242596</td>
<td>144.301468</td>
<td>1700500</td>
<td>0.0</td>
<td>0.0</td>
<td>-0.047292</td>
<td>15.1</td>
<td>2.7</td>
<td>5.8</td>
<td>6.6</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">155673</td>
<td>2023-01-06</td>
<td>2023</td>
<td>ZTS</td>
<td>143.840283</td>
<td>145.832203</td>
<td>138.865393</td>
<td>144.870590</td>
<td>1761200</td>
<td>0.0</td>
<td>0.0</td>
<td>0.003944</td>
<td>15.1</td>
<td>2.7</td>
<td>5.8</td>
<td>6.6</td>
<td>2.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">155674</td>
<td>2023-01-05</td>
<td>2023</td>
<td>ZTS</td>
<td>144.586064</td>
<td>145.400482</td>
<td>141.563836</td>
<td>142.721695</td>
<td>1560900</td>
<td>0.0</td>
<td>0.0</td>
<td>-0.014833</td>
<td>15.1</td>
<td>2.7</td>
<td>5.8</td>
<td>6.6</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">155675</td>
<td>2023-01-04</td>
<td>2023</td>
<td>ZTS</td>
<td>146.224720</td>
<td>147.981137</td>
<td>145.184606</td>
<td>146.165848</td>
<td>1796100</td>
<td>0.0</td>
<td>0.0</td>
<td>0.024132</td>
<td>15.1</td>
<td>2.7</td>
<td>5.8</td>
<td>6.6</td>
<td>2.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">155676</td>
<td>2023-01-03</td>
<td>2023</td>
<td>ZTS</td>
<td>145.871459</td>
<td>145.999010</td>
<td>142.486177</td>
<td>144.095413</td>
<td>1840600</td>
<td>0.0</td>
<td>0.0</td>
<td>-0.014165</td>
<td>15.1</td>
<td>2.7</td>
<td>5.8</td>
<td>6.6</td>
<td>2.0</td>
</tr>
</tbody>
</table>

<p>155677 rows × 16 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-ce97cfc6-ca6c-45df-a9b6-8969ef31dcd1')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-ce97cfc6-ca6c-45df-a9b6-8969ef31dcd1 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-ce97cfc6-ca6c-45df-a9b6-8969ef31dcd1');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-cba20424-f3ba-40cf-b830-1ee0ca2bd359">
      <button class="colab-df-quickchart" onclick="quickchart('df-cba20424-f3ba-40cf-b830-1ee0ca2bd359')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-cba20424-f3ba-40cf-b830-1ee0ca2bd359 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_8196ccd9-372c-47af-9ab2-b3db3189d0eb">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('merge_data')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_8196ccd9-372c-47af-9ab2-b3db3189d0eb button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('merge_data');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="exploratory-data-analysis" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis:</h3>
</section>
</section>
</section>
<section id="research-questions" class="level1">
<h1>Research Questions:</h1>
<ul>
<li><p>Throughout this project we are trying to look at if the risk factors such as total ESG risk, Environmental Risk, Social Risk, Government Risk, and Controvey affect the growth rate of companies.</p></li>
<li><p>We are evaluating a companies growth based off of their change in stock market close price throughout the year 2023. We then are comparing this to the value of rating the company receives for a particular ESG risk.</p></li>
</ul>
<div id="cell-12" class="cell" data-outputid="24c2f1a3-ac4c-41e0-d7bc-4c2f68f41be6">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sns.lmplot(merge_data, x<span class="op">=</span><span class="st">"Total_ESG_Risk_Rating"</span>, y<span class="op">=</span><span class="st">"Growth"</span>, scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>: <span class="fl">.2</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-9-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="total-esg-risk-rating-v-growth" class="level3">
<h3 class="anchored" data-anchor-id="total-esg-risk-rating-v-growth">Total ESG Risk Rating v Growth</h3>
<ul>
<li><p>Most of our data is centered around the middle, especially for the risk rating around 10-35.</p></li>
<li><p>There does not appear to be a relationshio between total ESG Risk Rating and Growth since there is no obvious upward or downward sloping pattern</p></li>
<li><p>The distribution is roughly symmetrical.</p></li>
<li></li>
</ul>
<div id="cell-15" class="cell" data-outputid="041e814f-d7f4-4618-f60d-9ba4f838cada">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sns.lmplot(merge_data, x<span class="op">=</span><span class="st">"Environmental_Risk_Rating"</span>, y<span class="op">=</span><span class="st">"Growth"</span>, scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>: <span class="fl">.2</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="environmental-risk-rating-v-growth" class="level3">
<h3 class="anchored" data-anchor-id="environmental-risk-rating-v-growth">Environmental Risk Rating v Growth</h3>
<ul>
<li><p>Most of the data is centered around a growth rate of 0.</p></li>
<li><p>Our Data does not represent a linear relationship</p></li>
<li><p>High density of data around the low risk rating.</p></li>
<li><p>As the Environmental Risk rating increases the range of Growth risks vary considerably less, this suggests that companies with a higher environmental risk rating are not seeing as much growth as companies with a lower risk rating.</p></li>
<li><p>Our data does suggest a negative assostaiotn, as our the environmental risk rating increases the growth rate appears to decrease.</p></li>
</ul>
<div id="cell-18" class="cell" data-outputid="7dfd7a43-e58f-4839-bc48-248ce55d74b9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sns.lmplot(merge_data, x<span class="op">=</span><span class="st">"Social_Risk_Rating"</span>, y<span class="op">=</span><span class="st">"Growth"</span>, scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>: <span class="fl">.2</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="social-risk-vs-growth" class="level3">
<h3 class="anchored" data-anchor-id="social-risk-vs-growth">Social Risk vs Growth:</h3>
<ul>
<li><p>Data is heavily centered around the zero value.</p></li>
<li><p>There seems to be the highest density from the social risk rating of 5-15.</p></li>
<li><p>This regression shows a weak,as is doesn’t appear to be any negative or postive sloping trends in the graph.</p></li>
<li><p>Thus this suggests that the social risk rating did not influence companies growth; based on their change in stock value of 2023.</p></li>
</ul>
<div id="cell-21" class="cell" data-outputid="a995a90b-78d0-41a0-ce4a-271a49511d03">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>sns.lmplot(merge_data, x<span class="op">=</span><span class="st">"Governance_Risk_Rating"</span>, y<span class="op">=</span><span class="st">"Growth"</span>, scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>: <span class="fl">.2</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Governance Risk Rating vs Growth:</p>
<ul>
<li><p>Again most of data is cented around zero</p></li>
<li><p>Growth rate varies the most when the governance risk rating is low, especially from 2.5-8. Conversely, the growth rates vary the least when the governance risk rating is higher.</p></li>
<li><p>There does appear to be a slight negative association suggesting that as a companies governance risk rating increased their growth rate decreased. However, our data does not necessarily demonstrate a strong assocaition so it would be intersting to see if we ran this again for 2024 stock values and if we obtained a stronger negative assosiation to see if this is a pattern or if it suggests that there is no real association between the two.</p></li>
</ul>
<div id="cell-23" class="cell" data-outputid="6afaa2ac-7a12-45fd-892b-073aa89cb565">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sns.lmplot(merge_data, x<span class="op">=</span><span class="st">"Controversy_Level"</span>, y<span class="op">=</span><span class="st">"Growth"</span>, scatter_kws<span class="op">=</span>{<span class="st">'alpha'</span>: <span class="fl">.2</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="controversy-level-vs-growth" class="level3">
<h3 class="anchored" data-anchor-id="controversy-level-vs-growth">Controversy Level Vs Growth:</h3>
<ul>
<li>The controvery levels that a company could obtain are 1,2,3,4,5.</li>
<li>From our graph we can see that the lower controversy levels of 1 and 2 have the highest varibility in growth. Where the controvery level of 5 has the lowest variability.</li>
<li>while there is no linear relationship or trend present in our graph our data does suggest that as the controvery level increases a companies growth decreases, because our data became more centered around lower growth values as our controversy level increased.</li>
</ul>
<div id="cell-25" class="cell" data-outputid="9392f5bd-0e55-4f53-a466-c5bdc05439cc">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(merge_data, x<span class="op">=</span><span class="st">"Controversy_Level"</span>, bins <span class="op">=</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-15-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="descriptive-statistics" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics">Descriptive Statistics:</h3>
<ul>
<li>Controvery level: Measures a companies recent ESG-related controveries which can include actions such as failure to act environmentally responsible, a breach in environmental or ethicial governance, a violation of human rights etc. -From our histogram we cans see that ESG-related controversies to involving the compaies we examained in our data frame is right skewed. The center of the data has a controversy level around 2.5.</li>
<li>The spread of this data is between a controvery level of 1 to 5, with 1 being minimal or no controversies invloving the company and a 4 or 5 means there a major controversies.</li>
<li>With the majority of our data being on the lower controversy level this should be seen as a postive thing for companies.</li>
</ul>
<div id="cell-27" class="cell" data-outputid="319f533c-c000-4c43-82b3-9c58af5be4b6">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(merge_data, x<span class="op">=</span><span class="st">"Governance_Risk_Rating"</span>, bins <span class="op">=</span> <span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="governance-risk-rating" class="level3">
<h3 class="anchored" data-anchor-id="governance-risk-rating">Governance Risk rating</h3>
<ul>
<li><p>This rating can include expose to government realted risks such as board structure and independence, executvie compensation, shareholder rights, transparency and ethics.</p></li>
<li><p>From our histrogram we can see that our data is right skewed, as the distribution has the majority of companies with a lower governance risk rating</p></li>
<li><p>The distribution has a long right tail an infrequent value with a rating of 17.5</p></li>
<li><p>the mode of this distribution is at a risk rating around 5.</p></li>
</ul>
<div id="cell-29" class="cell" data-outputid="e09c028c-1a83-49fd-8d99-d979f2a52010">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(merge_data, x<span class="op">=</span><span class="st">"Social_Risk_Rating"</span>, bins <span class="op">=</span> <span class="dv">25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-17-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="social-risk-rating" class="level3">
<h3 class="anchored" data-anchor-id="social-risk-rating">Social Risk Rating</h3>
<ul>
<li><p>Social Risk rating is concerned around issues regarding labor practices, human rights, inclusive culture and representation within the company, customer and community relations and diversity, equity and inclusion (DEI) policies.</p></li>
<li><p>From our histrogram we can see that our data appears to have a normal shape with no heavy skews.</p></li>
<li><p>It appears to have a mode around 9</p></li>
<li><p>with the center of the data around 10.5 -there appears to be an infrequent value with a rating of 22</p></li>
<li><p>This is disappointing to see that so many companies have a medium social risk rating.Especially because so many companies can still be successful but these issues are often times not brought to light due to a companies success. For example with Nike and their Sweatship Labor Allegations in the past, they have heavily relied upon child labor and still have been known to have bad labor conditions.</p></li>
</ul>
<div id="cell-31" class="cell" data-outputid="3b5114ab-13b0-4784-f7dd-067e77169c7d">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(merge_data, x<span class="op">=</span><span class="st">"Environmental_Risk_Rating"</span>, bins <span class="op">=</span> <span class="dv">35</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="environmental-risk-rating" class="level3">
<h3 class="anchored" data-anchor-id="environmental-risk-rating">Environmental Risk Rating</h3>
<ul>
<li><p>Environmental risk rating measures a compaies risk to issues such as carbon emission, energy efficiency, waste management, climate change strategy.</p></li>
<li><p>With a lower risk score representing that the company practices good environmental behavior -With a higher risk score representing that a company has poorer sustainability measure or is more liable to the environmental probelms</p></li>
<li><p>From the histogram we can see our data is right skewed, with the majority of data being on the lower risk side. There is a long right tail with some infrequent values around 25 and 30.</p></li>
<li><p>The mode is around a risk rating of 2. And the median is likely around 6</p></li>
<li><p>A large concentration of values appear from 0-5</p></li>
<li><p>There is a large range, from a rating of 0-31.</p></li>
</ul>
<p>-This data was suprising to me as I would expect a lot more companies to have a higher environmental risk score since global warming and environmental issues are still such a big concern and aren’t necessarily impproving. I think it would be interesting to compare this data in a few years since the new adminstration wants to make changes to how important environmental issues may be to addrressed especially within the corporate world.</p>
<div id="cell-33" class="cell" data-outputid="2e8b501a-b5c2-4640-9b5a-5e5f400d8e55">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(merge_data, x<span class="op">=</span><span class="st">"Total_ESG_Risk_Rating"</span>, bins <span class="op">=</span> <span class="dv">35</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-19-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="total-esg-risk-rating" class="level3">
<h3 class="anchored" data-anchor-id="total-esg-risk-rating">Total ESG Risk Rating</h3>
<ul>
<li><p>This is a composite score reflecting the company’s overall exposure to ESG-related risks.</p></li>
<li><p>A lower score means the company has a better ESG performance</p></li>
<li><p>A Higher Score measn the company is more likely to have some ESG-related issues.</p></li>
<li><p>From the histogrom our data appears to be approximately normal, and not heavily skewed with a mode around 19. There are some infrequent values around 45.</p></li>
<li><p>And the range of this data is from 45-7.</p></li>
</ul>
<div id="cell-36" class="cell" data-outputid="cac88a8e-6249-44ef-aedc-0799df554e56">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(merge_data, x<span class="op">=</span><span class="st">"Growth"</span>, binwidth <span class="op">=</span> <span class="fl">0.01</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="danl_210_OLEY_LUNA_stocks_ESG_files/figure-html/cell-20-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="growth" class="level3">
<h3 class="anchored" data-anchor-id="growth">Growth</h3>
<ul>
<li><p>This distribution shows the growth rate of all the companies as a whole.</p></li>
<li><p>Our distribution is centered at 0, and appears to be a normal distribution.</p></li>
<li><p>I think it’s interesting to note that a lot of the companies we are examining did not see a significant amount of growth based on their stock market performance in 2023, as the center of our distribution is at 0.</p></li>
</ul>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
<p>It appears that ESG and growth do have some negative association mostly in the ESG categories of Environmental, Governance and Controvery Risk. However, I think it would be impotant to look at mulitple different data sets and more stock market data over the years to determine if these trends are accurate or any more pronounced. Additionally, to see the overall affect of ESG on companies we could look at other factors such as certain sectors of each company and their growth, or instead of using stock market data we could compare a company to their S&amp;P 500.</p>
</section>
<section id="significiance-of-the-project" class="level2">
<h2 class="anchored" data-anchor-id="significiance-of-the-project">Significiance of the Project:</h2>
<p>Overall this project examines Environmental, Social and Governance Factors and how they affect a company and their business.</p>
<ul>
<li><p>Specifically our porject explored whether the more ESG responsability companies performed well financailly through their 2023 stocks compared to the companies with less ESG responsability.</p></li>
<li><p>This project is significant because these social, evironmental and goverance issues are real problems but many times they are overlooked by companies. Looking at this data can help support build a more sustainable and socially positive portfolio for businesses.</p></li>
<li><p>Additionally this information can help to keep companies accountable for their actions as more people became aware of these ratings.</p></li>
<li><p>As a consumer I think it would be useful to know how companies rate on the different ESG categories as it might defer consumers if their ratings are poor in certain areas. For instance before this project I had never heard of the term ESG so I found this project intersting and am now more curious to see how the companies/corportaion I buy from fall into these ratings becuase I would not want to support companies with very low environmental, social or governance ratings.</p></li>
</ul>
</section>
<section id="refrences" class="level2">
<h2 class="anchored" data-anchor-id="refrences">Refrences</h2>
<ul>
<li><p>Professor Choe</p></li>
<li><p>ChatGPT: For help in generating graphs of ESG category and Growth and analyzing some of them.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script type="text/javascript" src="links.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Powered with GitHub, Quarto, and Jupyter Notebook<br>© Luna Oley, 2025</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>